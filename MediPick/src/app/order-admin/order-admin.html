<div class="container">
  <!-- Filters Row -->
  <div class="filters-row">
    <div class="filter-item">
      <label>Date Range</label>
      <select [(ngModel)]="selectedDateRange" (change)="applyFilters()">
        <option value="today">Today</option>
        <option value="thisWeek">This Week</option>
        <option value="thisMonth">This Month</option>
        <option value="custom">All</option>
      </select>
    </div>

    <div class="filter-item">
      <label>Status Filter</label>
      <select [(ngModel)]="selectedStatus" (change)="applyFilters()">
        <option value="">All Orders</option>
        <option value="Pending">Pending</option>
        <option value="Processing">Processing</option>
        <option value="Shipped">Shipped</option>
        <option value="Delivered">Delivered</option>
        <option value="Cancelled">Cancelled</option>
      </select>
    </div>

    <div class="filter-item search-box">
      <label>Search Orders</label>
      <input type="text" id="search" placeholder="Search by Order ID"
        [(ngModel)]="searchQuery" (input)="applyFilters()">
    </div>
  </div>

  <!-- Orders Table -->
  <div class="card">
    <h2>Manage Orders</h2>
    <table>
      <thead>
        <tr>
          <th>Order ID</th>
          <th>User ID</th>
          <th>Order Date</th>
          <th>Shipping Address</th>
          <th>Payment Status</th>
          <th>Order Status</th>
          <th>Total Amount</th>
          <th>Actions</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let order of filteredOrders">
          <td>{{ order.orderId }}</td>
          <td>{{ order.userId }}</td>
          <td>{{ order.orderDate | date: 'short' }}</td>
          <td>{{ order.shippingAddress }}</td>
          <td>{{ order.paymentStatus }}</td>
          <td>
            <span class="badge" [ngClass]="{
              'pending': order.orderStatus === 'Pending',
              'processing': order.orderStatus === 'Processing',
              'shipped': order.orderStatus === 'Shipped',
              'delivered': order.orderStatus === 'Delivered',
              'cancelled': order.orderStatus === 'Cancelled'
            }">{{ order.orderStatus }}</span>
          </td>
          <td>{{ order.totalAmount | currency:'INR' }}</td>
          <td>
            <div class="actions">
              <select [(ngModel)]="orderstatus.newStatus" name="status{{order.orderId}}">
                <option value="">Select Status</option>
                <option value="Pending">Pending</option>
                <option value="Processing">Processing</option>
                <option value="Shipped">Shipped</option>
                <option value="Delivered">Delivered</option>
                <option value="Cancelled">Cancelled</option>
              </select>
              <button (click)="orderstatus.orderId = order.orderId; UpdateStatus(order.orderId)">
                Update
              </button>
            </div>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <!-- Show update response -->
  <div *ngIf="message" class="message-box">
    {{ message }}
  </div>
</div>
